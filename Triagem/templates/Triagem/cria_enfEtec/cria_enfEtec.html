{% extends 'global/template_geral.html' %}
{% load static %}
{% block body_login %}
{% block css %}
    <link rel="stylesheet" href="{% static 'global/css/message.css' %}">
    <link rel="stylesheet" href="{% static 'Access_Login/style.css' %}">   
    <link rel="stylesheet" href="{% static 'global/css/form.css' %}">   
    <style>
        .Tabela-user{
            margin:auto
        }
        .Tabela-user tr th{          
            background-color: aquamarine;
            padding: 0.2rem;
           
        }
        .Tabela-user tr td {            
            background-color: #ebf0f7;
            padding: 0.3rem;
            padding-left: 1rem;
            padding-right: 1rem;
            border: 0.01rem solid aquamarine;
        }
        .Tabela-user tr td:hover {            
            background-color: #bbd0eb;
        }
       

    </style>
{% endblock css %}
    {% include 'global/message.html' %}    
    
<h2><i class="fa fa-solid fa-thin fa-user-nurse fa-2x shadow"></i> Relação de Profissionais Cadastrados no Sistema</b></h2>
    <table class="Tabela-user" cellspacing="0">
        <tr>
            <th>Nome Completo</th>
            <th>Usuário (Login)</th> 
            <th>Email</th>
            <th>Telefone</th>
            <!--<th>Data Nascimento</th>
            <th>Endereço</th>
            <th>Grupo</th>-->
            <th>CRM</th>
            <th>Grupo</th>
            <th>Ações</th>

        </tr>
        {% for groups in users %}
        <tr>
            <td>{{groups.user__first_name}} {{groups.user__last_name}}</td>
            <td>{{groups.user__username}}</td>            
            <td>{{groups.user__email}}</td>  
            <td>{{groups.telefone}}</td>   
            <td>{{groups.crm}}</td>
            <!--<td>{{groups.data_nascimento}}</td>       
            <td>{{groups.endereco}}</td>
            <td>{{groups.user__groups__name}}</td>-->            
            <td>{{groups.user__groups__name}}</td>
            <td><span><a href="{% url 'Triagem:user_atualiza' groups.user__id %}"><i class="fa-solid fa-user-pen"></i></a></span> |  <span><a href="{% url 'Triagem:user_delete' groups.id %}"><i class="fa-solid fa-trash"></i></a></span></td>

        </tr>
        {% endfor %}
    </table>

 
<p>&nbsp;</p>

{% if form.instance.pk %}

    <i class="fa fa-solid fa-thin fa-user-nurse fa-2x shadow"></i> Atualização dos dados do profissional  <b class='uppercase'>{{up}}</b> </h2>
  
<h2>
{% else %}
    <h2><i class="fa fa-solid fa-thin fa-user-nurse fa-2x shadow"></i> Cadastra Profissionais de <b>Enfermagem</b> ou <b>Tec em Enfermagem</b></h2>
{% endif %}

<form method="post" class='class_form grid'>
    {% csrf_token %}
    <div>
        {{ form.as_p }}
    </div>
    <div >
        <div class="radio_div">
            <label class="radio_label" for="enfermagem">Enfermagem</label>
            <input class="radio" type="radio" value='group_Enfermagem' name="grupo" id="enfermagem" required>
        </div>
        <div class="radio_div">
            <label class="radio_label" for="tec">Tec em Enfermagem</label>
            <input class="radio" type="radio" value="group_Tec_Enfermagem" name="grupo" id="tec" required>
        </div>
    </div>
    {% if form.instance.pk %}
    <button style="width:97% ;" class="button-salvar" type="submit"> Atualizar dados de {{up}} <i class="fa-solid fa-floppy-disk"></i></button>
    {% else %}
    <button style="width:97% ;" class="button-salvar" type="submit"> Cadastrar Profissional de Saude <i class="fa-solid fa-floppy-disk"></i></button>
    {% endif %}
</form>

{% if form.errors %}
    <ul>
        {% for field_errors in form.errors.values %}
            {% for error in field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
            <li>{{ error }}</li>
        {% endfor %}
    </ul>
{% endif %}

{% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}









<!--SCRIPTS DO SISTEMA-->
{% block script %}
    <script src='{% static 'global/js/jquery.mask.min.js' %}'></script>
        <script>
        $(document).ready(function(){
            $("#id_data_nascimento").mask("00/00/0000")
        })
        $(document).ready(function(){
            $("#id_telefone").mask("00 0 0000-0000")
        })
        $(document).ready(function(){
            $("#id_CPF").mask("000.000.000-00")
        })
        $(document).ready(function(){
            $("#id_RG").mask("000.000.00-00")
        })
        
        $(document).ready(function(){
            $("#id_crm").mask("AAAAA-AA 000.000-AA")
        })
    </script>



{% endblock script %}
{% endblock body_login %}