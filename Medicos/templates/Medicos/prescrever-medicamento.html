{% extends 'global/template_geral.html' %}
{% block css %}
{% load static %}
<link rel="stylesheet" href="{% static 'global/tabela/css/style.css' %}">
<link rel="stylesheet" href="{% static 'global/css/abas_horizontais.css' %}">
<link rel="stylesheet" href="{% static 'global/css/formularios.css' %}">

<!--Multi Select para o form-->
<link rel="stylesheet" href="{% static 'global/js/multi-select/css/multi-select.css' %}">
<script src="{% static 'global/js/multi-select/js/jquery.multi-select.js' %}"></script>
<!--END Multi Select para o form-->

<!--Select2-->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script>      
   $(document).ready(function() {
       $('#id_exames').select2();
   });
</script>
   <!--end Select2-->

<style> {% for dados in paciente_triagem  %} 
              {% if dados.classifica_tipo.id == 1 %}
              .dados-preatendimento ul li span{
                     color: #AA0000;
                     font-size: 1.3rem;
              }
              {% elif dados.classifica_tipo.id == 2  %}
              .dados-preatendimento ul li span{
                     color: #ff6600;
                     font-size: 1.3rem;
              {% elif dados.classifica_tipo.id == 3  %}
              .dados-preatendimento ul li span{
                     color:  #008200;
                     font-size: 1.3rem;
              {% elif dados.classifica_tipo.id == 4  %}
              .dados-preatendimento ul li span{
                     color: #008dc0;
                     font-size: 1.3rem;
              {% endif %}  
       {% endfor %} 
       form div textarea{
              width: 100%;
              padding: 1rem;
       } 
       form div select{
              width:10rem;
              height: 3rem;
              padding: 1rem;
              color: #000
       }   
       
      
       .prescricao{
              background:#c8e3f3;
              padding:1rem;
       }
       /**.encaminhamento{
              background-color:#DAC8B3;              
       }**/
       .encaminhamento textarea, .atestado textarea, .exames textarea{
              width:97%;
              border:none;
              background:none;
              
       }
       .exames{
              background:#c0c0c0;
              padding:1rem;
              
       }
       .atestado{
             /** background:#97d3c4; **/
              padding:1rem;
       }
       #id_preescrever_medicamento_medico{
              background:transparent;
              width:95%;
       }
       .border-radius{              
              border-top-left-radius: 1rem;
              
       }
       select[multiple] {
              width: 100%;
              height: auto;
              position: relative;
              font-size: 16px;
              border: none;
              appearance: none;
              background: transparent;
              cursor: pointer;
              outline: none;
            }
            select[multiple]::-ms-expand {
              display: none;
            }
            select[multiple] option {
              position: relative;
              padding: 0px 35px 0px 5px;
              cursor: pointer;
              font-weight: normal;
            }
            select[multiple] option:before {
              content: "";
              display: inline-block;
              position: absolute;
              top: 50%;
              right: 15px;
              transform: translateY(-50%);
              width: 18px;
              height: 18px;
              border-radius: 50%;
              background-color: transparent;
              border: 2px solid #ccc;
              transition: all 0.2s;
            }
            select[multiple] option:checked:before {
              content: "\2713";
              color: #fff;
              background-color: #007bff;
              border-color: #007bff;
            }
            #ms-id_exames{
              width:95%;
        }
        #id_atestado{
              display: block;
              font-size: 3rem;
              padding: 1rem;
              width: 5rem;
              margin: 2rem auto;
        }
        .button-salvar{
              margin:0.5rem!important;
              
        }
        main{
              width:90%!important;
              box-shadow:none!important;
        }
        .main-header-title, .main-header{
              display:none !important;
        }
       

</style>

{% endblock css %}  
<!--Imagem Representando o setor-->
{% block vetor-img-aereo %}<img src=" {% static 'home/doctor.fw.png' %} " alt="">{% endblock vetor-img-aereo %}
<!--END Imagem Representando o setor-->
{% block title_login %}ÁREA MÉDICA {% endblock title_login %}
{% block titulo_ %} 
       ÁREA MÉDICA 

{% endblock titulo_ %} 
{% block body_title %}
       ÁREA MÉDICA 
       
{% endblock body_title %}
{% block body_login %}
<div  class='dados-preatendimento row'> 
       <!--ABAS - exibe as opções de preenchimento de documento do medico-->   
       <span class='fs-7 border-bottom'>Paciente em atendimento:</span>
       <h1 class='h3'>{{object.paciente_triagem}}</h1>
       <div class='col mt-3'>              
              
              <div id='imprimir_relatorio_medico' style="box-shadow: rgba(6, 24, 44, 0.4) 0px 0px 0px 2px, rgba(6, 24, 44, 0.65) 0px 4px 6px -1px, rgba(255, 255, 255, 0.08) 0px 1px 0px inset;
              padding: 2%;">
                     <div style='display:flex'>
                            <div style='width: 68%'>
                                   <div style='display:flex'><div style=' margin-right: 1rem;'>UPA VERA CRUZ</div><li>HTMAS</li></div>
                                   <p>Av. Juvenal João Vinagre, 175. Centro. Vera Cruz - BA</p>
                                   <p>Tel.: (71) 3633 - 2286</p>
                                   <p>Email: servicosocial.upaveracruz@gmail.com</p>
                            </div>
                            <div style='display:flex;width:32%; padding-top: 1rem;'>
                                   <div><img width="50" src="{% static 'brasao-veracruz.png' %}" alt=""></div>
                                   <div><img width="160" src="{% static 'upa24.png' %}" alt=""></div>

                            </div>
                     </div>
                     <div style='padding-top: 2rem;'><h1 style='font-size: 1.5rem; text-align: center !important;'>FICHA DE ATENDIMENTO DE EMERGÊNCIA</h1></div>
                     <hr>
                     {% for r  in resultado_medico %}
                            <!--linha 1-->
                            <div style="display: flex;">
                                   <div style="display: flex;width: 70%!important;">
                                          <p>Nome Social: </p>
                                          <p style="font-weight: bold; border-bottom: 0.01rem solid gray !important;width:80%  !important;;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.nome_social}}</p>
                                   </div>
                                   <div style="display: flex;width:30%">
                                          <p>Idade: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.idade}} anos</p>
                                   </div>
                            </div>   
                            <!--linha 2-->
                            <div style="display: flex;">
                                   <div style="display: flex;width: 40%!important;">
                                          <p>Data de Nascimento: </p>
                                          <p style="font-weight: bold; border-bottom: 0.01rem solid gray !important;width:60%  !important;;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.data_nascimento}}</p>
                                   </div>
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Sexo: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.sexo}}</p>
                                   </div>
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>RG: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.RG}}</p>
                                   </div>
                                   <div style="display: flex;width:auto;">
                                          <p>CNS ou CPF: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.CPF}}</p>
                                   </div>                                   
                            </div>  
                            <!--linha 3-->
                            <div style="display: flex;">
                                   <div style="display: flex;width: 40%!important;">
                                          <p>Endereço (Rua): </p>
                                          <p style="font-weight: bold; border-bottom: 0.01rem solid gray !important;width:60%  !important;;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.rua}}</p>
                                   </div>
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Bairro: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.bairro}}</p>
                                   </div>
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Cidade: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.cidade}}</p>
                                   </div>
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Estado: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.estado}}</p>
                                   </div>
                                   <div style="display: flex;width:auto;">
                                          <p>CEP: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.CEP}}</p>
                                   </div>                                   
                            </div>
                            <!--linha 4-->
                            <div style="display: flex;">
                                   <div style="display: flex;width: 40%!important;">
                                          <p>Nome da Mãe: </p>
                                          <p style="font-weight: bold; border-bottom: 0.01rem solid gray !important;width:60%  !important;;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.nome_mae}}</p>
                                   </div>
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Nacionalidade do Paciente: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.nacionalidade}}</p>
                                   </div> 
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Nome do Responsável: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.responsavel}}</p>
                                   </div>                                                                     
                            </div>
                            <!--linha 5-->
                            <div style="display: flex;">
                                   <div style="display: flex;width: 40%!important;">
                                          <p>Nº Telefone: </p>
                                          <p style="font-weight: bold; border-bottom: 0.01rem solid gray !important;width:60%  !important;;">&nbsp;{{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.tel}}</p>
                                   </div>
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Admissão: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.data_medico}}</p>
                                   </div>   
                                   <div style="display: flex;width:auto; margin-right: 3%;">
                                          <p>Hora: </p>
                                          <p style="font-weight: bold;border-bottom: 0.01rem solid gray !important;">&nbsp;{{r.hora_medico}}hs</p>
                                   </div>                                                                    
                            </div>
                            <div style="margin-top: 5%;">
                                   <h2 style="display: flex;width:auto; margin-right: 3%; font-size: 1.5rem !important;">Informações da classificão (Enfermagem)</h2>
                                   <hr>
                                   <p>Hora: {{r.paciente_medico_atendimento.hora_triagem}}hs</p> </p>
                                   <div style="display: flex;width:auto; font-size:0.9rem">
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">PA:</b>&nbsp; {{r.paciente_medico_atendimento.pressao_arterial_PA}} max | {{r.paciente_medico_atendimento.pressao_arterial_PA_2}} min
                                          </div>
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">FC:</b>&nbsp; {{r.paciente_medico_atendimento.frequencia_cardiaca_FC}}
                                          </div>   
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">FR:</b>&nbsp; {{r.paciente_medico_atendimento.frequencia_respiratoria_FR}}
                                          </div>  
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">SPO²:</b>&nbsp; {{r.paciente_medico_atendimento.saturacao_de_oxigenio_SPO2}}
                                          </div> 
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">SPO²:</b>&nbsp; {{r.paciente_medico_atendimento.saturacao_de_oxigenio_SPO2}}
                                          </div>                                        
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">HGT:</b>&nbsp; {{r.paciente_medico_atendimento.hemoglicoteste_HGT}}
                                          </div> 
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">TEMP:</b>&nbsp; {{r.paciente_medico_atendimento.temperatura_TEMP}}c°
                                          </div> 
                                          <div style="border: 0.1rem solid gray;padding: 0.5rem; display:flex;">
                                                 <b style="font-size: 0.8rem;margin-bottom: 1rem; display: block;">PESO:</b>
                                                 &nbsp;{% if r.paciente_medico_atendimento.peso == None %}33,6kg{% else %}{{r.paciente_medico_atendimento.peso}}kg{% endif %}
                                          </div>                                           
                                   </div> 
                                   <div style="font-size: 0.8rem; padding:0.2rem 0.5rem; margin:0.5rem 0; background-color:#ccc">
                                          <b style="font-size: 0.8rem;margin-top: 0.5rem; display: block;">COMORBIDADES:</b>
                                          <style>ul{display:flex}</style>
                                          {{r.paciente_medico_atendimento.paciente_triagem.paciente_envio_triagem.conteudo_comorbidades|safe}}
                                   </div>
                                   <div style="font-size: 0.8rem; padding:0.2rem 0.5rem; margin:0.5rem 0; background-color:#ccc">
                                          <b style="font-size: 0.8rem;margin-top: 0.5rem; display: block;">CLASSFICAÇÃO:</b>
                                          <style>ul{display:flex}</style>
                                          {{r.paciente_medico_atendimento.classifica_tipo}}
                                   </div>

                            </div>
                            
                            
                     {% endfor %}

              </div>


       </div>
       <div class='col mt-3'>              
              <form  method="post" class='flex'>
                     {% csrf_token %}
                            
                     <div style='width:67%'>
                            <ul class="menu-abas ">
                                   <li class='prescricao border-radius'><a href="#tab1">&nbsp;&nbsp;Preescrever Medicamento <i class="fa-solid fa-capsules"></i>&nbsp;&nbsp;</a></li>
                            <!-- <li class='encaminhamento'><a href="#tab2">&nbsp;&nbsp;Encaminhamentos <i class="fa-regular fa-paste"></i>&nbsp;&nbsp;</a></li> -->
                                   <li class='exames'><a href="#tab3">&nbsp;&nbsp;Exames <i class="fa-solid fa-notes-medical"></i>&nbsp;&nbsp;</a></li>
                                   <li class='atestado'><a href="#tab4">&nbsp;&nbsp;Atestados <i class="fa-solid fa-file-contract"></i></i>&nbsp;&nbsp;</a></li>
                            </ul>
                            
                            <article style='width:102%'>                     
                                   <section class='prescricao' id="tab1" class="active flex" >                                   
                                          <div>{{form.preescrever_medicamento_medico}}{{form.media}}</div>
                                   </section>
                            
                            <!--  <section style='width:93.5%' class='encaminhamento' id="tab2">
                                          {{form.encaminhamento}}
                                   </section>-->
                            
                                   <section class='exames' id="tab3" style='height:27.3rem'>
                                          <div >                                          
                                          <p><i class="fa-solid fa-computer-mouse"></i> Selecione os exames que são recomendados para o paciente:</p>
                                          <p> {{form.exames}}</p>
                                                 <script>
                                                        // Chame a função jQuery.noConflict() para liberar o símbolo $
                                                        var jQuery = $.noConflict(true);
                                                        $('#id_exames').multiSelect()
                                                 </script>
                                                 <!--
                                                 <div id="area">
                                                        <h1><i class="fa-solid fa-stethoscope"></i> Solicitação de Exames</h1>
                                                 </div> -->
                                          </div>   
                                   </section>  
                                   <section class='atestado' id="tab4" style='height:27.3rem'>
                                          <i class="fa-solid fa-file-contract"></i>
                                          <div>Por favor, forneça a duração em dias para o atestado médico do paciente. Exemplo: 25 </div>
                                          {{form.atestado}}
                                   </section>             
                            </article> 
                     </div> 
                     <div style='width:20%; height: 30rem; text-align: center;'>
                            {% if form.enviar_ambulatorio %}
                            <h3>Enviar o paciente para o ambulatório:</h3>
                            {{form.enviar_ambulatorio}}     
                            {% endif %}         
                            <button style='width: 90%;' type="submit" class='button-salvar'>{{pk}}  Salvar Formulário</button>
                            <a class='button-salvar' style="background-color:#87CEEB ;" href="{% url 'Triagem:triagem_especializada' %}?param={{ pk }}">Atendimento especializado</a>
                     </div>                        
              </form>
       </div>
</div>     
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script>
     $(document).ready(function() {
       $('#move').click(function() {
         $('#id_exames option:selected').appendTo('#area');
       });
     });
     </script>
{% endblock body_login %}