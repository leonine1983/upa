{% extends 'global/template_geral.html' %}
{% block css %}
{% load static %}
<link rel="stylesheet" href="{% static 'global/tabela/css/style.css' %}">

<link rel="{% static 'global/dist/css/bootstrap.min.css' %}" href="style.css">
<style>
    main{
        min-height:100vh !important;
        box-shadow: none!important;
    }
    .hours48{
        position: absolute;
        margin-top: -3rem !important;
        font-size: 0.55rem;
        margin-left: -0.5rem;
        padding: 0.1rem;
        color:rgb(255, 255, 255) ;
      }
</style>
{% endblock css %}  
<!--Imagem Representando o setor-->
{% block vetor-img-aereo %}<img src=" {% static 'home/doctor.fw.png' %} " alt="">{% endblock vetor-img-aereo %}
<!--END Imagem Representando o setor-->
{% block title_login %}ÁREA MÉDICA {% endblock title_login %}
{% block titulo_ %} ÁREA MÉDICA - Pacientes aguardando atendimento {% endblock titulo_ %} 
{% block body_title %}ÁREA MÉDICA: Pacientes aguardando atendimento{% endblock body_title %}
{% block body_login %}
<div>
    
    {{triage_rel}}
    <h3>Até o presente momento, temos <b>{{n_pacientes_triagem}}</b> pacientes aguardando atendimento.</h3>
    <ul>
        <li>Na tabela abaixo, temos um dos pacientes aguardando atendimento.</li>
        <li>À medida que o atendimento a um paciente for finalizado, o nome do próximo paciente é exibido na tabela abaixo.</li>
        <li>O nome de cada paciente é exibido de acordo com a classificação de risco, atribuido a ele durante o processo de TRIAGEM.</li>
        <li> Para iniciar o atendimento, clique no botão PROSSEGUIR></li>
    </ul>
</div>

<div class='style-tabela'>

<table  id="tabela-listar" border="0" cellpadding="0" cellspacing="0" width="100%">                
    <thead>
        <tr>
        <td class="top center"><strong>Nome</strong></td>
        <td class="top center"><strong>Classificação de Emergência</strong></td>
        <td class="top center"><strong>Atendimento</strong></td>
        </tr>
    </thead>       
    <tbody> 
        
        {% for campo in object_list %}  
       {{campo.idade}}
        <tr> 
            <td {% if campo.paciente_triagem.retornou_em_menos_de_48_horas %} style='border:solid 0.13rem' class='border-danger' {% endif %}>
                <a class="link-color" href="{% url 'Atendimento:perfil-paciente' campo.pk  %}">
                    <span>{{campo.paciente_triagem}}</span>fff 
                    <div class="hours48 bg-danger border p-1 pe-3 px-3 rounded-end-5 ">{% if campo.paciente_triagem.retornou_em_menos_de_48_horas %}<i class="fa-thin fa-skull-crossbones"></i> Retornou em menos de 48 horas{% endif %}</div> 
                </a>
            </td>                                                        
            <td align="center" class=' {% if campo.classifica_tipo.classifica_tipo == "Vermelho" %}
                                            prosseguir-red
                                            {% elif campo.classifica_tipo.classifica_tipo == "Laranja"  %}
                                            prosseguir-laranja
                                            {% elif campo.classifica_tipo.classifica_tipo == "Verde"   %}
                                            prosseguir-green                                            
                                            {% elif campo.classifica_tipo.classifica_tipo == "Azul"  %}
                                            prosseguir-azul
                                        {% endif %}' href=""> {{campo.classifica_tipo}}</td>   
            <td align="center" href=""><a href="{% url 'Medicos:medico_atendimento' campo.pk %}"> {{campo.paciente_envio_triagem_id}} <span class='prosseguir  
                {% if campo.classifica_tipo.classifica_tipo == "Vermelho" %}
                prosseguir-red
                {% elif campo.classifica_tipo.classifica_tipo == "Laranja"  %}
                prosseguir-laranja
                {% elif campo.classifica_tipo.classifica_tipo == "Verde"  %}
                prosseguir-green                                            
                {% elif campo.classifica_tipo.classifica_tipo == "Azul"  %}
                prosseguir-azul
            {% endif %}'> Seguir com o atendimento <i class="fa-regular fa-paper-plane"></i> </span></a></td>   
                            
          
        </tr>       
        
        {% empty%}
            <tr>
                <td colspan='7'>Nenhum registro informado</td>        
            </tr>                       
        {% endfor %}
    </tbody>                
</table>  
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
    <div class='p-3 bg-dark-subtle shadow'>
        <h1 class='h2'>Tabela de Encaminhamentos Médicos</h1>
        <hr>
        <p>Esta tabela registra os pacientes que foram encaminhados para procedimentos específicos.</p>
        <ul>
            <li><strong>Nome do Paciente:</strong> Nome completo da pessoa encaminhada para o procedimento.</li>
            <li><strong>Data e Hora do Encaminhamento:</strong> Momento em que o paciente foi encaminhado.</li>
            <li><strong>Tipo de Procedimento:</strong> Procedimento específico para o qual o paciente foi encaminhado (por exemplo, raio-X de tórax, avaliação da oxigenação, etc.).</li>            
            <li><strong>Nome do Médico:</strong> Identificador  do médico responsável.</li>   
        </ul>


        <p>&nbsp;</p>
        <table class="table table-striped table-dark" border="0" cellpadding="0" cellspacing="0" width="100%" >
            <thead>
                <tr  style='background:#666' >
                    <th scope="col" style='padding:0.5rem; color:#fff; font-weight: normal !important'>Nome do paciente</th>
                    <th scope="col" style='padding:0.5rem; color:#fff; font-weight: normal !important'>Data</th>                      
                    <th scope="col" style='padding:0.5rem; color:#fff; font-weight: normal !important'>Tipo de procedimento</th>       
                    <th scope="col" style='padding:0.5rem; color:#fff; font-weight: normal !important'>Situação do Paciente</th>                   
                    <th scope="col" style='padding:0.5rem; color:#fff; font-weight: normal !important'>Médico Responsável</th>
                    <th scope="col" style='padding:0.5rem; color:#fff; font-weight: normal !important; width: 35%' >Ação</th>
                </tr>
            </thead>    
            <tbody>
                {% for ated_espec in atendimento_especi %}
                <tr>
                    <td scope="row" style='text-align:center' >{{ated_espec.pk_paciente}}</td>
                    <td scope="row" style='text-align:center'>{{ated_espec.tipo_atendimento}}</td>  
                    <td scope="row" style='text-align:center'>{{ated_espec.pk_paciente.data_triagem}}.</td>  
                    <td scope="row" style='text-align:center'>{{ated_espec.situacao}}</td>          
                    <td scope="row" style='text-align:center'>{{ated_espec.nome_medico}}</td>
                    <th scope="col" style='text-align:center'><a class=
                        "prosseguir 
                        {% for campo in object_list %}  
                            {% if campo.classifica_tipo.classifica_tipo == "Vermelho" %}
                            prosseguir-red
                            {% elif campo.classifica_tipo.classifica_tipo == "Laranja"  %}
                            prosseguir-laranja
                            {% elif campo.classifica_tipo.classifica_tipo == "Verde"  %}
                            prosseguir-green                                            
                            {% elif campo.classifica_tipo.classifica_tipo == "Azul"  %}
                            prosseguir-azul
                            {% endif %}
                        {% endfor %}"

                        
                        
                        
                        href="{% url 'Medicos:dados_do_paciente_medicamentos' ated_espec.pk_paciente.id %}" style='color:#fff; font-weight: normal;'>Continuar com o atendimento <i class="fa-regular fa-paper-plane"></i>  </a></th>
                </tr>
                {% endfor %}
            
            
            </tbody>
        </table>
    </div>
    <p>&nbsp;</p>
    <div class='mt-5 p-3 bg-info-subtle shadow'>
        <h1 class='h2'>Tabela de Atendimentos Médicos Diários </h1>
        <hr>
        <p>Esta tabela registra os pacientes que foram atendidos por um médico no dia atual.</p>
        <ul>
            <li><strong>Nome Paciente e Codigo:</strong> Identificador único do paciente atendido.</li>
            <li><strong>Data e Hora do Atendimento:</strong> Momento do atendimento.</li>
            <li><strong>Nome do Médico:</strong> Identificador  do médico responsável.</li>           
            <li><strong>Situação do paciente:</strong> Situação em que se encontra o paciente.</li> 
            <li><strong>Possibilidade de Reavaliação:</strong> Indicador para reavaliar o paciente posteriormente.</li>
        </ul>

        <div class='bg-white'>
            <table class="table table-striped border bg-white" cellpadding="0" cellspacing="0" width="100%" >
                <thead>
                    <tr  class="bg-info">
                        <th scope="col" class="center text-dark-emphasis text-center">Nome do paciente</th>
                        <th scope="col" class="center text-dark-emphasis text-center">Data</th>                         
                        <th scope="col" class="center text-dark-emphasis text-center">Médico Responsável</th>
                        <th scope="col" class="center text-dark-emphasis text-center">Possibilidade de Reavaliação</th>
                    </tr>
                </thead>    
                <tbody>
                    {% for ated_espec in atendimentos_hoje %}
                    <tr>
                        <td scope="row" style='text-align:center' >{{ated_espec.paciente_medico_atendimento.paciente_triagem}}</td>
                        <td scope="row" style='text-align:center'>{{ated_espec.data_medico}} <i class="fa-thin fa-alarm-clock"></i> {{ated_espec.hora_medico}}</td>          
                        <td scope="row" style='text-align:center'>{{ated_espec.nome_medico}}</td>
                        <th scope="col" style='text-align:center'><a class=
                            "prosseguir 
                            {% for campo in object_list %}  
                                {% if campo.classifica_tipo.classifica_tipo == "Vermelho" %}
                                prosseguir-red
                                {% elif campo.classifica_tipo.classifica_tipo == "Laranja"  %}
                                prosseguir-laranja
                                {% elif campo.classifica_tipo.classifica_tipo == "Verde"  %}
                                prosseguir-green                                            
                                {% elif campo.classifica_tipo.classifica_tipo == "Azul"  %}
                                prosseguir-azul
                                {% endif %}
                            {% endfor %}"                   
                            
                            
                            href="{% url 'Medicos:dados_do_paciente_atualiza' ated_espec.id %}" style='color:#fff; font-weight: normal;'>Reavaliar paciente <i class="fa-regular fa-paper-plane"></i>  </a></th>
                    </tr>
                    {% endfor %}
                
                
                </tbody>
            </table>
        </div>
    </div>

</div>
{% endblock body_login %}