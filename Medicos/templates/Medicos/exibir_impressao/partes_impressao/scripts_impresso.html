<script>
    //PDF Prescreve Medicamento ------------------------------------------------------------

function gerarPDF() {
     // Seleciona o elemento com o ID "tab1"
     const elementToPrint = document.querySelector('#tab11');
     console.log(elementToPrint)
     html2canvas(elementToPrint, {
         onrendered: function(canvas) {
             // Define as dimensões da página A4 em pixels
             const pageSize = { width: 595, height: 842 };
             // Define as margens em pixels
             const margin = 20;
             // Converte a imagem do canvas para um formato de dados base64
             const imgData = canvas.toDataURL('image/png');
             const img = new Image();
             img.onload = function() {
                 // Calcula a proporção da largura da imagem em relação à largura da página
                 const widthRatio = pageSize.width / (img.width + 2 * margin);
                 // Calcula a altura da imagem com base na proporção da largura
                 const imgHeight = img.height * widthRatio;
                 // Define as configurações do PDF
                 const pdfDefinition = {
                     pageSize: pageSize,
                     pageOrientation: 'portrait',
                     pageMargins: [margin, 20, margin, margin],
                     content: [
                         {
                             image: imgData,
                             width: pageSize.width - 2 * margin,
                             height: imgHeight
                         }
                     ]
                 };
                 // Abre um pop-up com o PDF
                 popupPDF();
                 const pdfWindow = window.open('', '_blank', 'width=600,height=800');
                 // Cria o PDF e o salva em um blob
         
           pdfMake.createPdf(pdfDefinition).getBlob(function (blob) {
         const url = URL.createObjectURL(blob);
         pdfWindow.location.href = url;
       });
     };
     img.src = imgData;
   }
 });
}


function gerarPDF_exame() {
    // Seleciona o elemento com o ID "tab1"
    const elementToPrint = document.querySelector('#tab33');
    console.log(elementToPrint)
    html2canvas(elementToPrint, {
        onrendered: function(canvas) {
            // Define as dimensões da página A4 em pixels
            const pageSize = { width:600, height:800 };
            // Define as margens em pixels
            const margin = 20;
            // Converte a imagem do canvas para um formato de dados base64
            const imgData = canvas.toDataURL('image/png');
            const img = new Image();
            img.onload = function() {
                // Calcula a proporção da largura da imagem em relação à largura da página
                const widthRatio = pageSize.width / (img.width + 2 * margin);
                // Calcula a altura da imagem com base na proporção da largura
                const imgHeight = img.height * widthRatio;
                // Define as configurações do PDF
                const pdfDefinition = {
                    pageSize: pageSize,
                    pageOrientation: 'portrait',
                    pageMargins: [margin, 20, margin, margin],
                    content: [
                        {
                            image: imgData,
                            width: pageSize.width - 2 * margin,
                            height: imgHeight
                        }
                    ]
                };
                // Abre um pop-up com o PDF
                popupPDF();
                const pdfWindow = window.open('', '_blank', 'width=600,height=800');
                // Cria o PDF e o salva em um blob
        
          pdfMake.createPdf(pdfDefinition).getBlob(function (blob) {
        const url = URL.createObjectURL(blob);
        pdfWindow.location.href = url;
      });
    };
    img.src = imgData;
  }
});
}
//PDF Prescreve Atestado ------------------------------------------------------------
function gerarAtestPDF() {
    // Seleciona o elemento com o ID "tab4"
    const elementToPrint = document.querySelector('#tab44');
    console.log(elementToPrint)
    html2canvas(elementToPrint, {
        onrendered: function(canvas) {
            // Define as dimensões da página A4 em pixels
            const pageSize = { width: 1000, height:1415 };
            // Define as margens em pixels
            const margin = 20;
            // Converte a imagem do canvas para um formato de dados base64
            const imgData = canvas.toDataURL('image/png');
            const img = new Image();
            img.onload = function() {
                // Calcula a proporção da largura da imagem em relação à largura da página
                const widthRatio = pageSize.width / (img.width + 2 * margin);
                // Calcula a altura da imagem com base na proporção da largura
                const imgHeight = img.height * widthRatio;
                // Define as configurações do PDF
                const pdfDefinition = {
                    pageSize: pageSize,
                    pageOrientation: 'portrait',
                    pageMargins: [margin, 20, margin, margin],
                    content: [
                        {
                            image: imgData,
                            width: pageSize.width - 2 * margin,
                            height: imgHeight
                        }
                    ]
                };
                // Abre um pop-up com o PDF
                popupPDF();
                const pdfWindow = window.open('', '_blank', 'width=600,height=800');
                // Cria o PDF e o salva em um blob
        
          pdfMake.createPdf(pdfDefinition).getBlob(function (blob) {
        const url = URL.createObjectURL(blob);
        pdfWindow.location.href = url;
      });
    };
    img.src = imgData;
  }
});
}
</script>
