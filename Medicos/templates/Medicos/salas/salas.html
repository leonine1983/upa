{% extends 'global/template_geral.html' %}
{% block css %}
{% load static %}
<link rel="stylesheet" href="{% static 'global/tabela/css/style.css' %}">
<style>
    .table{
        width: 95%;
        border-spacing: 0;
    }
    .table tr th{
       background-color:cadetblue;
    }

    .table tr th, .table tr td{
       text-align: center;
       border: 0.01rem solid rgb(204, 201, 201);
    }
    .delete{
        color: red;
        margin: 0.5rem;
    }
    .update{
        color: blue;
        margin: 0.5rem;    
    }

    /** FORM */
    .form {
        box-shadow: var(--shadow);
        padding: 0.5rem;
    }
    .form label{
        display: block;
        margin-top: 1rem;
    }
    .form input, .form textarea, .form select{
        margin-left: 1rem;
        border-radius: 0.8rem;
        padding: 0.8rem;
        border: 0.1rem solid coral;
        width: 90%;
        font-size: 1.1rem;
    }
</style>
{% endblock css %}  
<!--Imagem Representando o setor-->
{% block vetor-img-aereo %}<img src=" {% static 'home/doctor.fw.png' %} " alt="">{% endblock vetor-img-aereo %}
<!--END Imagem Representando o setor-->
{% block title_login %}ÁREA MÉDICA {% endblock title_login %}
{% block titulo_ %} ÁREA MÉDICA - Salas de Atendimento {% endblock titulo_ %} 
{% block body_title %}ÁREA MÉDICA {% endblock body_title %}
{% block body_login %}
    <!--Relação de Salas Cadastradas-->

   {% if object_list %}
   <h2> <i class="fa-solid fa-person-shelter"></i> Relação de Salas para Atendimento Medico:</h2>
    <table class="table" >
        <tr>
            <th>SALA</th>
            <th>DESCRIÇÃO DA SALA</th>
            <th>AÇÃO</th>
        </tr>
        {% for list in object_list %} 
        <tr>
            <td>{{list.nome_Sala}}</td>
            <td>{{list.descricao_Sala}}</td>
            <td><span><a href="{% url 'Medicos:salasUpdate' list.pk %}"><i class="fa-solid fa-pen-to-square update"></i></a></span> | <span><a href="{% url 'Medicos:salasDelete' list.pk %}"><i class="fa-solid fa-trash-can delete"></i></a></span></td>
        </tr>
        {% endfor %}
    </table>  
    <hr>
    <h2> <i class="fa-solid fa-person-shelter"></i> Relação de Salas Ocupadas:</h2>
    <table class="table" >
        <tr>
            <th>SALA</th>
            <th>DESCRIÇÃO DA SALA</th>
            <th>AÇÃO</th>
        </tr>
        {% for list in profissionais %} 
        <tr>
            <td>{{list.nomeSala}}</td>
            <td>{{list.profissionalSaude}}</td>
            <td><span><a href="{% url 'Medicos:salasProfissionalUpdate' list.pk %}"><i class="fa-solid fa-pen-to-square update"></i></a></span> | <span><a href="{% url 'Medicos:salasProfissionalDelete' list.pk %}"><i class="fa-solid fa-trash-can delete"></i></a></span></td>
        </tr>
        {% endfor %}
    </table>   

    {% endif %}                 
    <!--Cadastro de Salas-->
    
    {% if not object_list %}
    {% if update %}                        
    <h2>Formulário de Atualização de Salas</h2>   
    {% elif salaProfissional %}
    <h2>Vincular Profissional à Sala de Atendimento</h2>
    <div style='text-align: right; margin-right:5rem'>
        <a href="{% url 'Medicos:cadastroSala' %}"><i class="fas fa-solid  fa-person-shelter"></i> Cadastro de Salas</a>
        
    </div>
    {% elif DeleteVinculo %}
    <h2> Tem certeza que deseja deletar o VÍNCULO DO PROFISSIONAL à sala?</h2> 
    {% else %}
    <h2> Tem certeza que deseja deletar a sala {{nomeSala}}?</h2> 
    {% endif %}
         
        <div>
            <form class='form' action="" method="post">
                {% csrf_token %}
                {{form.as_div}}
                <div class="flex">
                    <a class="button-cancelar" href="{%url 'Medicos:salas' %}">Cancelar</a> 
                    <button class="button-salvar">
                        {% if update %}                        
                        Atualizar Salar
                        {% elif salaProfissional %}
                        Salvar
                        {% else %}
                        Deletar {{nomeSala}}
                        {% endif %} </button>                  
                </div>
            </form>
        </div>        
    {% endif %}   
    <a class='button-salvar' href="{% url 'Medicos:salasProfissionalCreate' %}"><i class="fa-solid fa-people-roof"></i> Vincula Profissional às Salas</a>
{% endblock body_login %}